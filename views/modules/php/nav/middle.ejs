<style>
  folder {
    height: 0px;
    display: flex;
    flex-direction: column;
  }
  content {
    padding-left: 10px;
  }
  content > otherFolders > folder {
    height: 0px;
  }
  content.active > otherFolders > folder {
    height: unset;
  }
</style>
<% function renderFolder(folderData) { %>
  <folder>
    <name onclick="toggleFolderVisibility(this)"><%= folderData.folderName %></name>
    <content>
      <% if (Object.keys(folderData.folders).length > 0) { %>
        <otherFolders>
          <% for (const subFolderName in folderData.folders) { %>
            <%= renderFolder({ folderName: subFolderName, ...folderData.folders[subFolderName] }) %>
          <% } %>
        </otherFolders>
      <% } %>
      <% if (folderData.files.length > 0) { %>
        <files>
          <% folderData.files.forEach(file => { %>
            <file> â€¢ <%= file %></file>
          <% }) %>
        </files>
      <% } else if (folderData.files.length === 0 && Object.keys(folderData.folders).length === 0) { %>
      <% } %>
    </content>
  </folder>
<% } %>

<%= renderFolder({ folderName: 'My Project', ...filesAndFolders }) %>

<script>
function toggleFolderVisibility(block) {
  const folder = block.parentElement;
  const content = folder.querySelector('content');

  if (content.classList.contains('active')) {
    content.classList.remove('active');
  } else {
    content.classList.add('active');
  }
}
</script>

  