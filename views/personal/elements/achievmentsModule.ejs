<style>
.achievments_module {
  grid-row: 1 / 3;
  grid-column: 1 / 2;
}
.selection_wrapper {
  gap: 8px;
  justify-content: space-between;
  height: 24px;
}
.selection_wrapper > button {
  padding: 1px;
  border: 1px solid #0d0d0d;
  background-color: #0d0d0d;
  border-radius: calc(20px / 3 * 2);

}
.selection_wrapper > button.selected[--hammer] { border: 1px solid var(--hammer-accent) }
.selection_wrapper > button.selected[--casual] { border: 1px solid var(--casual-accent) }
.selection_wrapper > button.selected[--killer] { border: 1px solid var(--killer-accent) }
.selection_wrapper > button.selected[--defence] { border: 1px solid var(--defence-accent) }
.selection_wrapper > button.selected[--event] { border: 1px solid var(--event-accent) }
.selection_wrapper > button.selected[--donate] { border: 1px solid var(--donate-accent) }

</style>
<div class="achievments_module default_panel_style dynamic <%= player.registered ? '' : 'blocked' %>">
  <div class="selection_wrapper flex flex-dir-row">
    <% const allAchievments = {
      hammer: []
    } %>
    <% Object.keys(allAchievments).forEach(achKey => { %>
      <button onclick="achievmentSelection(this)" --achievment="<%= achKey %>" --<%= achKey %>>
        <img src="https://api.impactium.fun/ux/<%= achKey %>.png">
      </button>
    <% }); %>
  </div>
  <div class="relative_panel">
    <% allAchievments.forEach(achKey => { %>
      <% if (player.achievments?.[achKey] { %>
      <button onclick="achievmentSelection(this)" --achievment="<%= achKey %>" --<%= achKey %>>
        <img src="https://api.impactium.fun/ux/<%= achKey %>.png">
      </button>
      <% } else { %>

      <% } %>
    <% }); %>
  </div>
</div>
<script>
  function achievmentSelection(caller) {
    const buttonInitiator = $(caller);
    const allButtons = $('.selection_wrapper > button');

    allButtons.forEach(button => { button.removeClass('selected') });
    buttonInitiator.addClass('selected');
    displayAchievmentPanel(buttonInitiator.attr('achievment'));
  }
  function displayAchievmentPanel(achievmentToCall) {
    const allPanels = $('.achievments_module .panel')
    const blockToDisplay = $(`.achievments_module .panel.${achievmentToCall}`);
    if (blockToDisplay) {
      blockToDisplay.addClass('selected')
    }
  }
</script>